# Exercise 3.9

## DIY using Postgres and PV/PVC

### Pros

- Full control over Postgres version, config, etc
- Quick to setup if you already have a cluster and your deployment configurations. Just create a PVC and deploy Postgres
- You can keep more or less all config in your configuration files

### Cons

- More work when it comes to DB ops and maintenance, such as upgrading, monitoring, replication/high-availability, etc
- Postgres upgrades, security patches, disk resizing, and failover need to be scheduled manually

### Differences

- Cost is billed as a persistent disk via Google Cloud and CPU/memory cost is just the cost of running the Postgres container in pod
- Backup/restore options are Kubernetes Volume Snapshots or Backup for GKE

## DBaaS using Google Cloud SQL for PostgresSQL

### Pros

- Less platform and DB ops work since Google Cloud SQL is a managed service
- Since Cloud SQL is a managed service, it automatically updates instances and performs most types of maintenance
- Built-in high availability configuration options that are well-documented
- Automatic and on-demand backups
- Point-in-time recovery

### Cons

- More upfront work to setup things like IAM, networking, etc as opposed to running Postgres in a docker container and deploying via a PV/PVC
- Potentially less fine-grained control over managing everything yourself in Kubernetes

### Differences

- Cost is billed independently for Cloud SQL as CPU, memory, storage, and networking
- Automatic and on-demand backups
- Point-in-time recovery